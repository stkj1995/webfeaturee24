---
import MainLayout from "../layouts/MainLayout.astro"; 
import Button from '../components/Button.astro'; 
import Link from '../components/Link.astro'; 
import { Image } from 'astro:assets'; 
import apoteket from "../assets/images/apoteket.jpg"; 
import arbejde from "../assets/images/arbejde.jpg"; 
import glitch from "../assets/images/glitch.jpg"; 
import godtarbejde from "../assets/images/godt-arbejde.jpg"; 
import lidtifem from "../assets/images/lidtifem-pierre-falcke.jpg"; 
import smena from "../assets/images/lomo-smena-17.jpg"; 
import overouticm from "../assets/images/over-out-icm.jpeg"; 
import pierre from "../assets/images/pierre.jpeg"; 
import tyndfilm from "../assets/images/tynd-film.jpg"; 
import gammelfilm from "../assets/images/gammel-film.jpg";
import lightleaks from "../assets/images/light-leaks.jpg";
import canoneos from "../assets/images/canon-eos-300-gammel-film.jpg";
import scan from "../assets/images/scan.jpg";
import "../styles/tobii.min.css"; 
---

<MainLayout title="Surprise og Delight">
    <style>
        body {
            cursor: url('/src/assets/images/custom-cursor.png'), auto;
        }
    </style> 
    <article class="p-4 md:p-0">
        <div x-data="{ scrollPos: 0, showProgressBar: false, messages: ['Besked 1', 'Besked 2', 'Besked 3'], randomMessage: '' }" @scroll.window="scrollPos = window.scrollY; showProgressBar = scrollPos > 0">
            <div 
                :class="scrollPos > 200 ? 'bg-gradient-to-r from-pink-500 to-yellow-300 text-white' : 'bg-white text-gray-800'" 
                class="transition-all duration-300 min-h-screen flex flex-col"
            >
                <!-- Progress Bar -->
                <div x-show="showProgressBar" class="progress-container fixed top-0 left-0 w-full h-2 bg-transparent z-50">
                    <div class="progress-bar h-full bg-gradient-to-r from-blue-400 to-purple-600" :style="{ transform: 'scaleX(' + (scrollPos / (document.body.scrollHeight - window.innerHeight)) + ')' }"></div>
                </div>

                <section class="whitespace-nowrap overflow-x-hidden bg-pink-800 text-white py-4">
                    <div class="inline-block animate-infinite-scroll whitespace-nowrap [&_span]:mx-6 ">
                        <span>UI Lir</span>
                        <span>Fede effekter</span>
                        <span>Flotte animationer</span>
                        <span>Høje lyde</span>
                        <span>Livlige og levende webløsninger</span>
                        <span>UI & UX</span>
                        <span>Interaktioner</span>
                        <span>Mikroanimationer</span>
                        <span>Mega fedt!</span>
                        <span>Dit site bliver bedre!</span>
                    </div>
                    <div class="inline-block animate-infinite-scroll whitespace-nowrap [&_span]:mx-6 " aria-hidden="true">
                        <span>UI Lir</span>
                        <span>Fede effekter</span>
                        <span>Flotte animationer</span>
                        <span>Høje lyde</span>
                        <span>Livlige og levende webløsninger</span>
                        <span>UI & UX</span>
                        <span>Interaktioner</span>
                        <span>Mikroanimationer</span>
                        <span>Mega fedt!</span>
                        <span>Dit site bliver bedre!</span>
                    </div>
                </section>
                
                <section id="videoonhover" class="max-w-4xl mx-auto mt-44 relative" x-ref="herovideo">
                    <video class="w-full rounded-lg shadow-lg transition-transform duration-300" autoplay muted loop @mouseenter="$refs.hovervideo.play()" 
                    @mouseleave="$refs.hovervideo.pause()">
                        <source src="/pierre-falcke-video.mp4" type="video/mp4">
                    </video>
                
                    <!-- Lydafspiller med loop -->
                    <audio id="background-audio" loop>
                        <source src="../assets/sounds/warm-chords-loop.mp3" type="audio/mpeg">
                    </audio>
                
                    <!-- Knap til at tænde/slå lyden til/fra -->
                    <button id="toggle-sound" class="absolute bottom-5 right-5 bg-gradient-to-r from-green-400 to-blue-600 text-white font-bold py-2 px-4 rounded shadow-lg hover:bg-green-700 transition duration-300 transform hover:scale-105">
                        Slå lyd til
                    </button>
                </section>

                <section class="max-w-2xl mx-auto mt-20 prose" id="manchet">
                    <p class="text-xl">Pierre Falcke. Du ved formentligt ikke hvem han er. Men indtil for kort tid siden, så du hans værker et par gange om dagen, hver dag, året rundt. Pierre Falcke var en af verdens bedst sælgende stock-fotografer, og han solgte over 2 millioner fotos om året. Men Pierre kunne ikke drømme om at bruge sine egne fotos - faktisk kan han ikke fordrage sit eget arbejde.</p>
                    
                    <div class="mb-48">
                        <a href="../assets/images/pierre.jpeg" class="lightbox">
                            <Image src={pierre} alt="Selvportræt af Pierre Falcke" class="fotoinview entranceanimation rounded-lg shadow-lg" />
                            <figcaption class="mt-2 text-center text-sm italic text-gray-600">Pierre Falcke, selvportræt</figcaption>
                        </a>
                    </div>
                    
                <!-- Lydafspillere -->
                <audio id="click-sound-1">
                    <source src="../assets/sounds/woooooaah.mp3" type="audio/mpeg">
                </audio>

                <audio id="click-sound-2">
                    <source src="../assets/sounds/cartoon-jump.mp3" type="audio/mpeg">
                </audio>

                <audio id="click-sound-3">
                    <source src="../assets/sounds/african_drum.mp3" type="audio/mpeg">
                </audio>
                </section>
            
                <section>
                    <div class="flex items-center h-screen w-100 bg-cover bg-center" style="background-image: url('/billigt-objektiv.jpg'); transform: scale(1.05);">
                        <div class="w-3/4 lg:w-1/2 mx-auto space-y-4 p-10 sticky top-1/4">
                            <button class="text-2xl italic text-center p-4 min-h-[100px] w-full text-white rounded-lg motion-btn bg-gradient-to-r from-blue-500 to-purple-500 shadow transition-all duration-300 transform hover:scale-105" 
                                    data-animation="entrance" 
                                    onmouseenter="this.animate([{ transform: 'scale(1.05)' }, { transform: 'scale(1)' }], { duration: 300 })"
                                    onclick="document.getElementById('click-sound-1').play();">
                                Pierre sælger 2 millioner fotos om året
                            </button>
                            <button class="text-2xl italic text-center p-4 min-h-[100px] w-full text-white rounded-lg motion-btn bg-gradient-to-r from-green-400 to-blue-500 shadow transition-all duration-300 transform hover:scale-105" 
                                    data-animation="entrance" 
                                    onmouseenter="this.animate([{ transform: 'scale(1.05)' }, { transform: 'scale(1)' }], { duration: 300 })"
                                    onclick="document.getElementById('click-sound-2').play();">
                                Det svarer til én fotolicens hvert 16. sekund
                            </button>
                            <button class="text-2xl italic text-center p-4 min-h-[100px] w-full text-white rounded-lg motion-btn bg-gradient-to-r from-red-500 to-yellow-600 shadow transition-all duration-300 transform hover:scale-105" 
                                    data-animation="entrance" 
                                    onmouseenter="this.animate([{ transform: 'scale(1.05)' }, { transform: 'scale(1)' }], { duration: 300 })"
                                    onclick="document.getElementById('click-sound-3').play();">
                                Du ser hans fotos ca. 2 gange om dagen
                            </button>
                        </div>
                    </div>
                </section>                              
                
                <section class="max-w-4xl mx-auto mt-32 prose border border-double border-black p-8" id="hvaderstockfotos">
                    <h2 class="text-2xl mb-4">Hvad er stock-fotos?</h2>
                    <div class="grid grid-cols-3 gap-8"> 
                        <div>
                            <p class="mb-4">Stock-fotos er billeder, der kan købes fra et foto-website. De bruges af aviser, til markedsføring og som indhold på websites. En licens til at bruge et foto koster typisk mellem 10 og 100 kroner, alt afhængig af hvad de skal bruges til.</p>
                            <Image src={arbejde} alt="En person, der arbejder ved en computer" class="staggered-image rounded-lg shadow-lg mb-6 w-full h-auto"/> <!-- Tilføjet w-full og h-auto for at gøre billederne større -->
                        </div>
                        <div>
                            <p class="mb-4">Stock-fotos bliver ofte kritiseret for at være uden sjæl - det er de der billeder af en læge i hvid kittel med stetoskop om halsen på en meget hvid baggrund eller en meget glad dame fra virksomhedens salgs- eller supportafdeling.</p>
                            <Image src={apoteket} alt="En læge i hvid kittel med stetoskop" class="staggered-image rounded-lg shadow-lg mb-6 w-full h-auto"/>
                        </div> 
                        <div>
                            <p class="mb-4">Stock-fotos har eksisteret i mange år. Før branchen blev digital, tilbød stock-foto virksomhederne billedmapper, der kunne bestilles fra. Men stock-foto branchen var én af de tidlige til at blive fuldt digitaliseret.</p>
                            <Image src={godtarbejde} alt="En gruppe mennesker, der arbejder sammen i et kontormiljø" class="staggered-image rounded-lg shadow-lg mb-6 w-full h-auto"/>
                        </div>
                    </div>
                </section>          

                <section class="max-w-xl mx-auto prose my-10 mt-32" id="pierresberoemmelse">
                    <h2 class="text-4xl">Pierres berømmelse</h2>
                    <p>Pierres interesse for foto startede som ganske ung - som 10-årig fik han sin fars gamle Rollei-kamera, og begyndte at skyde løs. Det var før den digitale revolution, så alle Pierres lommepenge blev brugt på filmruller og fremkaldelse af film. Pierre fortsatte med at fotografere på film op gennem gymnasietiden.</p>
                    <p>Pierre over til digital fotografering i starten af 2000’erne, da han begyndte at studere fotografisk kommunikation på DMJX. Her åbnede en ny verden sig: Reklamefotografering i studie, lyssætning og manipulering af billeder i Photoshop blev hans nye stil. </p>
                    <p>På det tidspunkt var stock-foto industrien i starten af en revolution: De første online stock-foto websites begyndte at komme på markedet, men de store, etablerede spillere på markedet holdt lidt igen. Pierre så det for sig: “Om ganske få år er hele branchen digital, og dem der ikke hopper med på den digitale vogn, lukker.”</p>
                    <p>Så Pierre gav sig selv en udfordring: At blive landets bedst sælgende stock-fotograf. Pierre lejede et gammelt, billigt erhvervslokale i Ishøj industri, fik fløjet billige skuespillere ind fra Polen og Baltikum, og fotograferede 10 timer om dagen.</p>
                    <p>Pierres profeti om stock-foto branchen holdt stik. Pierre var allerede en af landets bedst sælgende stock-fotografer, før han blev færdig med studiet på DMJX. 
                    </p>
                </section>

                <div class="overflow-clip mt-16">
                    <section id="horisontalscrollsection" class="h-[400vw]">
                        <ul id="horisontalliste" class="list-none pl-0 flex sticky top-[10vh]">
                        <li class="pl-0 flex w-[100vw] items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto"><figure class="flex flex-row max-w-[800px]"><Image src={lightleaks} class="w-5/6" alt="foto" /><figcaption class="pl-4 italic w-1/3">Lysspredning fra kameraet giver billederne en drømmende effekt.</figcaption></figure></li>
                        <li class="flex w-[100vw] items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto"><figure class="flex flex-row max-w-[800px]"><Image src={smena} class="w-5/6" alt="foto" /><figcaption class="pl-4 italic w-1/3">Et prisvenligt objektiv, der gør det muligt at tage fantastiske billeder.</figcaption></figure></li>
                        <li class="flex w-[100vw] items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto"><figure class="flex flex-row max-w-[800px]"><Image src={canoneos} class="w-5/6" alt="foto" /><figcaption class="pl-4 italic w-1/3">Dette foto er skudt med Canon EOS, en klassiker blandt fotografer for dens kvalitet og pålidelighed.</figcaption></figure></li>
                        <li class="flex w-[100vw] items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto"><figure class="flex flex-row max-w-[800px]"><Image src={scan} class="w-5/6" alt="foto" /><figcaption class="pl-4 italic w-1/3">Scannede billeder, der fanger minderne fra fortiden på ny.</figcaption></figure></li>
                        </ul>
                    </section>
                </div>

                <div id="pulsing-border" class="h-2 my-8"></div>

                <section id="enskillevej">
                    <div class="max-w-xl mx-auto mt-16 mb-10 prose">
                        <h2 class="text-4xl">En skillevej</h2>
                        <p>Pierre tjente godt det følgende årti. Men stille og roligt begyndte billederne også at give ham kvalme. Han kunne ikke holde sit eget arbejde ud, og måtte finde et modsvar til alle de blankpolerede fotos. Noget han kunne lave med stolthed. Pierre bestluttede sig for at droppe stock-fotos, og vende tilbage til rødderne.</p>
                        <p>Han søgte inspiration i analog fotografering, i Lomo-bevægelsen, Glitch art og polaroid fotografering, og begyndte stille og roligt at skabe sig en ny stil - en stil med fokus på det uperfekte, og hvor der er et uforudsigeligt element i det at tage billeder.</p>
                        <p>Pierre tog det endda så vidt at han ikke kun droppede at tage stock-fotos. Han fjernede også alle stock-fotos fra de tjenester, han solgte sine fotos hos. Han gik fra at være en god forretningsdrivende til at blive en vaskeægte boheme-type på rekordtid.</p>
                    </div>
                </section>
                
                <section class="grid grid-cols-1 md:grid-cols-2 mt-10">
                    <div class="bg-gray-800 p-4 shadow-lg">
                        <Image src={glitch} alt="Glitch kunst" class="staggered-image rounded-lg shadow-lg mb-4"/>
                        <figcaption>Glitch kunst</figcaption>
                    </div>
                    <div class="bg-gray-800 p-4 shadow-lg">
                        <Image src={smena} alt="Smena kamera" class="staggered-image rounded-lg shadow-lg mb-4"/>
                        <figcaption>Dobbelteksponering med Smena</figcaption>
                    </div>        
                </section>
                                    
                <section class="max-w-4xl mx-auto mt-32 mb-16 prose border border-double border-black p-8" id="fotoeksperimenter">
                    <h2 class="text-2xl">Fotoeksperimenter</h2>
                    <div class="grid grid-cols-3 gap-4">
                        <div>
                            <h3 class="text-xl">Analog fotografering</h3>
                            <p>Fotografering med gode, gammeldags filmruller. Analog fotografering stiger for tiden i popularitet, specielt blandt unge, og prisen på filmruller og vintage-kameraer skyder i vejret. Mange fotografer synes at film-fotografering er mere ægte har mere “sjæl.” Analog fotografering er langsommmere, hvert enkelt billede koster penge, og man bliver nødt til at overveje motiv og lys grundigere før der skydes - tænk før du trykker. </p>
                            <p>Analog fotografering kan gå galt mange steder i processen, og det giver også mulighed for at eksperimentere med “det uperfekte og uforudsigelige i processen.” Man kan f.eks. skyde på for gamle filmruller, arbejde med forskellige teknikker som “lens whacking” og filtre/ting foran objektivet, og man kan pille ved de kemiske processer under fremkaldelse af filmen.</p>
                        </div>
                        <div>
                            <h3 class="text-xl">Glitch art</h3>
                            <p>Når der sker en teknisk fejl i et medie/en kommunikationskanal kaldes det en glitch. Glitch art går ud på at dyrke fejlene for at skabe kunst. En meget typisk glitch er små analoge eller digitale fejl i farvegengivelsen af billeder.</p>
                            <p></p>
                        </div>
                        <div>
                            <h3 class="text-xl">Lomografi</h3>
                            <p>Et lomografi er egentlig bare et fotografi skudt uden videre omtanke, og med noget foto-udstyr af ret alternativ kvalitet. Lomografier skydes ofte på gode, gammeldags filmruller, men kan også skyde digitalt.</p>
                            <p>Det kan måske lyde lidt anti-fotograf-agtigt. Men en del foto-entusiaster dyrker den slags, og ser det som en foto-genre eller endda en livsstil.</p>
                        </div>
                    </div>
                </section>

                <section class="flex items-center justify-center my-28">
                    <div class="grid grid-cols-2 gap-4">
                        <div class="group perspective w-64 h-80">
                            <div class="relative preserve-3d w-full h-full transition-transform duration-700 group-hover:rotate-y-180">
                                <!-- Front Side -->
                                <div class="absolute inset-0 flex items-center justify-center bg-pink-500 text-white backface-hidden p-4">
                                </div>
                                <!-- Back Side -->
                                <div class="absolute inset-0 flex items-center justify-center bg-blue-500 text-white backface-hidden rotate-y-180 p-4">
                                    <div class="rotate-y-180">
                                        <h2 class="text-3xl font-extrabold text-white">🎉 Surprise!</h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                
                        <!-- Kopi af det første kort -->
                        <div class="group perspective w-64 h-80">
                            <div class="relative preserve-3d w-full h-full transition-transform duration-700 group-hover:rotate-y-180">
                                <!-- Front Side -->
                                <div class="absolute inset-0 flex items-center justify-center bg-blue-500 text-white backface-hidden p-4">
                                </div>
                                <!-- Back Side -->
                                <div class="absolute inset-0 flex items-center justify-center bg-pink-500 text-white backface-hidden rotate-y-180 p-4">
                                    <div class="rotate-y-180">
                                        <h2 class="text-3xl font-extrabold text-black">✨ Delight!</h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            
                <section id="nybegyndelse">
                    <div class="max-w-xl mx-auto mt-10 mb-10 prose">
                        <h2 class="text-4xl">En ny begyndelse</h2>
                        <p>Men Pierre er glad for sin beslutning. Indkomsten er lavere nu, men han har stadig lidt penge på kontoen, og studerer nu kunstfotografering på fotoskolen Fatamorgana. Han glæder sig over hver dags kunstneriske eksperimenter, og er for første gang i sit liv rigtig stolt af sit arbejde. Som Pierre selv udtrykker det: <span class="italic">“Det interessante ligger i fejlen. Et foto med masser af fejl er interessant. Jeg eksperimenterer med udstyr og teknik, og skaber nye visuelle udtryk. Det uperfekte er perfekt.”</span></p>		
                    </div>
                </section>  
                    
                <section class="grid grid-cols-1 md:grid-cols-2 mt-10">
                    <div class="bg-gray-800 p-4 shadow-lg">
                        <Image src={overouticm} alt="Uperfekt billede - Overexposure" class="staggered-image rounded-lg shadow-lg mb-4"/>
                        <figcaption>Overeksponeret og ude af fokus</figcaption>
                    </div>
                    <div class="bg-gray-800 p-4 shadow-lg">
                        <Image src={tyndfilm} alt="Uperfekt billede - Tynd film" class="staggered-image rounded-lg shadow-lg mb-4"/>
                        <figcaption>Tynd film</figcaption>
                    </div>      
                </section>

                <section class="max-w-xl mx-auto my-16 prose">
                    <p>Karrieren begynder også så småt også at gå den rette vej: Pierre er begyndt at sælge fotokunst på nettet, og har udgivet sin første foto-bog med titlen “Lidt i fem,” som er en fotografisk odyssé om at slæbe en brandert hjem i de tidlige morgentimer. I forbindelse med udgivelsen af bogen, har han en udstilling på vej i det Kongelige Biblioteks fotoudstilling.</p>
                    <p>Som Pierre forklarer det: <span class="italic">“Nu kan jeg leve livet igen. Jeg føler mig frisk. Jeg føler mig fri. Jeg føler mig genfødt.”</span></p>	
                    <a href="lidtifem-pierre-falcke.jpg" class="lightbox scrollzoom overflow-clip">
                        <Image src={lidtifem} alt="Billede af bog" class="scrollzoomimg w-full" />
                        <figcaption>Lidt i fem - ny bog af Pierre Falcke</figcaption>
                    </a>			
                </section>
            </div>
        </div>
</article>
</MainLayout>

<script is:inline src="/tobii.min.js"></script>
<script defer>
	const tobii = new Tobii(); 
</script>

<script>
    /* Import af Motion One biblioteket */
    import { animate, stagger, scroll, inView as motionInView, timeline } from '@motionone/dom';
    import type { TimelineSegment } from '@motionone/dom';

    document.addEventListener('DOMContentLoaded', () => {
        // Entrance animation for image
        const entranceImage = document.querySelector('.entranceanimation');
        const entranceObserver = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    animate(entranceImage, { opacity: 1, y: 0 }, { duration: 1 });
                    entranceObserver.unobserve(entry.target);
                }
            });
        });
        entranceObserver.observe(entranceImage);

        // Scroll zoom animation for an image
        scroll(
            animate(".scrollzoomimg", { 
                scale: [1, 1.5]    
            }),
            { 
                target: document.querySelector(".scrollzoom"),
                offset: ["0.75 end", "end end"]
            }
        );

        // Horisontal scroll sektion
        scroll(
            animate("#horisontalliste", {
                transform: ["none", "translateX(-500vw)"]
            }),
            { target: document.querySelector("#horisontalscrollsection") }
        );

        // Timeline animation
        motionInView("#timelineanimationimage", () => {
            const timelineanimation: TimelineSegment[] = [
                [".timelineanimation", { opacity: 1 }, { duration: 1 }],
                [".timelineanimation", { transform: "rotate(360deg)" }, { duration: 3 }],
                [".timelineanimation", { transform: "scale(1.5)" }, { duration: 0.5 }],
                [".timelineanimation", { transform: "scale(1)" }, { duration: 1 }],
                [".timelineanimation", { opacity: 0.3 }, { duration: 5 }]
            ];
            timeline(timelineanimation);
        });

        // Audio toggle
        const audio = document.getElementById('background-audio') as HTMLAudioElement;
        const toggleButton = document.getElementById('toggle-sound') as HTMLButtonElement;
        let isAudioPlaying = false;

        toggleButton.addEventListener('click', () => {
            if (isAudioPlaying) {
                audio.pause();
                toggleButton.textContent = 'Slå lyd til';
            } else {
                audio.play().then(() => {
                    toggleButton.textContent = 'Slå lyd fra';
                }).catch((error) => {
                    console.log("Lyden kunne ikke starte:", error);
                    toggleButton.textContent = 'Slå lyd til'; // Reset button text if play fails
                });
            }
            isAudioPlaying = !isAudioPlaying;
        });

        // Header animation
        motionInView('#entrance-header', ({ target }) => {
            const element = target as HTMLElement;
            element.style.opacity = '0';
            element.style.transform = 'translateY(-20px)';
            animate(element, { opacity: 1, y: 0 }, { duration: 1 });
        });

        // inView animations for description
        motionInView('#entrance-description', ({ target }) => {
            const element = target as HTMLElement;
            element.style.opacity = '0';
            element.style.transform = 'translateY(-20px)';
            animate(element, { opacity: 1, y: 0 }, { duration: 1 });
        });

        // Additional inView animations
        motionInView(".fotoinview", () => {
            animate(".fotoinview", { x: [-2000, 0] }, { duration: 3 });
        });

        const imageElements = document.querySelectorAll('.staggered-image');
        imageElements.forEach((image, index) => {
            motionInView(image, () => {
                animate(
                    image,
                    { opacity: [0, 1], transform: ['translateY(50px)', 'translateY(0)'] },
                    { duration: 1, delay: index * 0.3 }
                );
            });
        });

        // inView & return animation for a specific element
        motionInView(".inviewreturn", ({ target }) => {
            animate(
                target,
                { rotate: [180, 0] },
                { delay: 1, duration: 2 },
            );
            return () => {
                animate(
                    target,
                    { rotate: 180 }
                );
            }
        });

        // Knap animations
        const buttons = document.querySelectorAll('.motion-btn');
        buttons.forEach((button, index) => {
            // Entrance animation
            animate(button, {
                opacity: [0, 1],
                transform: ['translateY(20px)', 'translateY(0)'],
            }, {
                duration: 0.5,
                delay: index * 0.1, // Stagger effect
                easing: 'ease-out',
            });

            // InView animation
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        animate(entry.target, {
                            opacity: [0, 1],
                            transform: ['translateY(20px)', 'translateY(0)'],
                        }, {
                            duration: 0.5,
                            easing: 'ease-out',
                        });
                        observer.unobserve(entry.target); // Stop observing once animated
                    }
                });
            });

            observer.observe(button);
        });

        // Scroll event for shadow effect
        window.addEventListener('scroll', () => {
            buttons.forEach(button => {
                if (button.getBoundingClientRect().top <= 0) {
                    button.classList.add('shadow-lg');
                } else {
                    button.classList.remove('shadow-lg');
                }
            });
        });

        // Flip card animation
        const flipCard = document.querySelector('.group');
        if (flipCard) {
            flipCard.addEventListener('mouseenter', () => {
                animate(flipCard.querySelector('.relative'), { rotateY: '180deg' }, { duration: 0.5 });
            });

            flipCard.addEventListener('mouseleave', () => {
                animate(flipCard.querySelector('.relative'), { rotateY: '0deg' }, { duration: 0.5 });
            });
        }
    });
</script>
