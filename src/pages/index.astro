---
import MainLayout from "../layouts/MainLayout.astro"; 
import Button from '../components/Button.astro'; 
import Link from '../components/Link.astro'; 
import { Image } from 'astro:assets'; 
import apoteket from "../assets/images/apoteket.jpg"; 
import arbejde from "../assets/images/arbejde.jpg"; 
import glitch from "../assets/images/glitch.jpg"; 
import godtarbejde from "../assets/images/godt-arbejde.jpg"; 
import lidtifem from "../assets/images/lidtifem-pierre-falcke.jpg"; 
import smena from "../assets/images/lomo-smena-17.jpg"; 
import overouticm from "../assets/images/over-out-icm.jpeg"; 
import pierre from "../assets/images/pierre.jpeg"; 
import tyndfilm from "../assets/images/tynd-film.jpg"; 
import "../styles/tobii.min.css"; 
--- 

<script src="https://cdnjs.cloudflare.com/ajax/libs/canvas-confetti/1.5.1/confetti.browser.min.js"></script>

<script type="module">
    import confetti from 'canvas-confetti';

    function launchConfetti() {
        console.log('Confetti launched!'); // For debugging
        confetti({
            particleCount: 100,
            spread: 70,
            origin: { y: 0.6 }
        });
    }
	
	// Funktion til at afspille lyd
	function playSound() {
		const audio = new Audio('/assets/sounds/click-sound.mp3');
		audio.play().catch(error => {
			console.error('Error playing sound:', error);
		});
	}

    function messageComponent() {
        return {
            showMessage: false,
            toggleMessage() {
                this.showMessage = !this.showMessage; 
                if (this.showMessage) {
                    launchConfetti(); // Udløs konfetti, når beskeden vises
                    playSound(); // Afspil lyd når beskeden vises
                }
            }
        };
    }


// Progress-bar animation using scroll
	import { animate, scroll } from '@motionone/dom';
	scroll(animate(".progress-bar", { scaleX: [0, 1] }));
</script>

<MainLayout title="Surprise og Delight">
    <style>
        body {
            cursor: url('/src/assets/images/custom-cursor.png'), auto;
        }
    </style> 

<!-- Progress-bar placeret i toppen af sitet -->
<div class="progress-bar h-4 fixed w-full bg-gradient-to-r from-pink-500 to-yellow-300 left-0 origin-top-left top-0 right-0"></div>



    <div x-data="{ scrollPos: 0, messages: ['Besked 1', 'Besked 2', 'Besked 3'], randomMessage: '' }" @scroll.window="scrollPos = window.scrollY">
        <article :class="scrollPos > 200 ? 'bg-gradient-to-r from-blue-500 to-purple-500' : 'bg-white'" class="transition-all duration-300 p-4 md:p-0">
            <article 
            :class="scrollPos > 200 ? 'bg-gradient-to-r from-blue-500 to-purple-500 text-white text-shadow' : 'bg-white text-gray-800'" 
            class="transition-all duration-300 p-4 md:p-0"
        >
            <section class="max-w-xl mx-auto mt-32 prose" id="titel">
                <h2 class="text-6xl md:text-9xl text-center animate__animated animate__fadeIn" :class="scrollPos > 200 ? 'text-white' : 'text-gray-800'">Uperfekt er perfekt</h2>
            </section>		
        </article>

        <section class="max-w-4xl mx-auto mt-32" id="herovideo">
            <video width="1280" height="960" autoplay muted loop>
                <source src="pierre-falcke-video.mp4" type="video/mp4">
            </video> 
        </section>

        <section class="max-w-xl mx-auto mt-32 prose" id="manchet">
            <p class="text-xl">Pierre Falcke. Du ved formentligt ikke hvem han er. Men indtil for kort tid siden, så du hans værker et par gange om dagen, hver dag, året rundt. Pierre Falcke var en af verdens bedst sælgende stock-fotografer, og han solgte over 2 millioner fotos om året. Men Pierre kunne ikke drømme om at bruge sine egne fotos - faktisk kan han ikke fordrage sit eget arbejde.</p>
            <div>
                <a href="pierre.jpeg" class="lightbox">
                    <Image src={pierre} alt="" class="my-0"/>
                    <figcaption>Pierre Falcke, selvportræt</figcaption>
                </a>
            </div>
            
            <p class="text-2xl italic text-center bg-black p-8 text-white">
                Pierre sælger 2 millioner fotos om året
            </p>
            <p class="text-2xl italic text-center bg-black p-8 text-white">
                Det svarer til én fotolicens hvert 16. sekund
            </p>
            <p class="text-2xl italic text-center  bg-black p-8 text-white">
                Du ser hans fotos ca. 2 gange om dagen
            </p>
        </section>

		<!-- Besked-sektion til tilfældige beskeder -->
		<section class="max-w-xl mx-auto mt-32" x-data="{ 
			randomMessage: '', 
			messages: [
				'Det uperfekte er ofte det mest ægte.',
				'Fejl er beviser på, at du prøver.',
				'Skridtene til succes er ofte i usikkerhedens skygge.',
				'Husk, at hver fejl bringer dig et skridt tættere på succes.',
				'Livet er en rejse, ikke en destination. Nyd hvert øjeblik!',
				'Selv de bedste fotografer tager ikke altid perfekte billeder.',
				'Hvem har brug for perfekte billeder, når du har karakter?',
				'Uperfekte øjeblikke er ofte de sjoveste!',
				'Det eneste perfekte billede er det, der gør dig glad.',
				'Det er de små, uperfekte øjeblikke, der gør livet værd at leve.',
				'Selv det mest beskedne motiv kan blive til et mesterværk.',
				'Husk: det handler ikke kun om billedet, men om historien bag.',
				'Tag et øjeblik til at se skønheden i det uperfekte.',
				'Hvad inspirerer dig i dag? Del dit øjeblik med os!',
				'Find skønheden i det enkle og det uventede.'
			],
			playSound() {
				this.$refs.trykforatafspillelyd.play();
			}
		}">
			<button 
				class="bg-gradient-to-r from-blue-400 to-blue-600 text-white font-bold py-3 px-6 rounded shadow-lg hover:bg-blue-700 transition duration-300 transform hover:scale-105" 
				@click="randomMessage = messages[Math.floor(Math.random() * messages.length)]; playSound()">
				Klik for perfekt uperfekt besked
			</button>

			<p class="mt-4 text-lg text-gray-800 italic" x-text="randomMessage"></p>

			<!-- Lydafspiller -->
			<audio x-ref="trykforatafspillelyd">
				<source src="/assets/sounds/click-sound.mp3" type="audio/mpeg">
			</audio>
		</section>

        <section class="max-w-4xl mx-auto my-32 prose border border-double border-black p-8" id="hvaderstockfotos">
            <h2 class="text-2xl">Hvad er stock-fotos?</h2>
            <div class="grid grid-cols-3 gap-4">
                <div>
                    <p>Stock-fotos er billeder, der kan købes fra et foto-website. De bruges af aviser, til markedsføring og som indhold på websites. En licens til at bruge et foto koster typisk mellem 10 og 100 kroner, alt afhængig af hvad de skal bruges til.</p>
                    <Image src={arbejde} alt="" />
                </div>
                <div>
                    <p>Stock-fotos bliver ofte kritiseret for at være uden sjæl - det er de der billeder af en læge i hvid kittel med stetoskop om halsen på en meget hvid baggrund eller en meget glad dame fra virksomhedens salgs- eller supportafdeling.</p>
                    <Image src={apoteket} alt="" />
                </div> 
                <div>
                    <p>Stock-fotos har eksisteret i mange år. Før branchen blev digital, tilbød stock-foto virksomhederne billedmapper, der kunne bestilles fra. Men stock-foto branchen var én af de tidlige til at blive fuldt digitaliseret.</p>
                    <Image src={godtarbejde} alt="" />
                </div>
            </div>
        </section>

        <section class="max-w-xl mx-auto mt-32 prose" id="tyndfilm">
            <h2 class="text-2xl">Tynd film</h2>
            <p class="text-xl">Som professionel fotograf skal du være i stand til at få folk til at opføre sig naturligt. Du skal vise dem, at det er ok at lave fejl. I dag er den mest anvendte film tynd film, der er optaget af en amatør fotograf.</p>
            <p class="text-xl">Tynd film var et af de mest kontroversielle emner i 2023, men den har en bestemt æstetik, som mange har lært at elske.</p>
            <Image src={tyndfilm} alt="" />
        </section>
        
        <section class="max-w-xl mx-auto mt-32 prose" id="smena">
            <h2 class="text-2xl">Smena</h2>
            <p class="text-xl">Smena er en helt ny tilgang til hvad et stock-foto er. Smena fokuserer på det uperfekte, og fremhæver det, som mange mennesker finder ubehageligt - eller morsomt. Smena viser os, at de bedste fotos ofte tages af amatører.</p>
            <Image src={smena} alt="" />
        </section>

        <section class="max-w-xl mx-auto mt-32 prose" id="overouticm">
            <h2 class="text-2xl">Over og Out</h2>
            <p class="text-xl">Tynd film viser os at, vi ikke behøver at optage perfekte fotos. De billeder, der ikke lever op til vores idealer, kan alligevel vise os det smukke.</p>
            <Image src={overouticm} alt="" />
        </section>
    </div>
</MainLayout>
